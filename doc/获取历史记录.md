# 获取历史记录

**简要描述：**

- 获取历史记录接口

**请求URL：**

- ` http://xx.com/getHistory `

**请求方式：**

- POST

**参数：**

| 参数名        | 必选  | 类型     | 说明    |
|:-----------|:----|:-------|:------|
| own_uid    | 是   | string | 自己的账号 |
| friend_uid | 是   | string | 好友的账号 |

**返回代码说明**

| 代码   | 代码说明            |
|:-----|:----------------|
| 0    | 成功              |
| 1    | 失败              |
| 2    | own_uid参数不存在    |
| 3    | friend_uid参数不存在 |
| 1001 | 没有权限            |
| 1002 | 不是自己的账号         |

**返回示例**

```json
{
  "code": "0",
  "msg": "获取成功",
  "data": [
    {
      "id": 1,
      "message": "msg",
      "state": "0",
      "time": 1638717152000,
      "sender_uid": "001"
    },
    {
      "id": 2,
      "message": "msg",
      "state": "1",
      "time": 1638717152000,
      "sender_uid": "002"
    }
  ]
}
```

```json
{
  "code": "1",
  "msg": "没有历史记录"
}
```

**返回参数说明**

| 参数名    | 类型     | 说明     |
|:-------|:-------|:-------|
| code   | string | 返回代码   |
| msg    | string | 返回消息   |
| data   | array  | 数据对象数组 |

**返回数据对象数组(data[0])说明**

| 参数名        | 类型     | 说明                     |
|:-----------|:-------|:-----------------------|
| id         | int    | 记录在数据库中的序号             |
| message    | string | 消息                     |
| state      | char   | 状态，0是未接收，1是已接收         |
| time       | long   | 时间戳，单位是毫秒（不懂时间戳是啥自己百度） |
| sender_uid | string | 发送者uid                 |

**备注**

- 更多返回错误代码请看首页的错误代码描述

